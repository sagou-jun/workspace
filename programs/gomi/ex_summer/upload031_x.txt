課題０３１に関するレポート
081330774　佐合　惇

現在ヘッダファイルの作成中
makefileはまだ作っていません

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%ballgame.h%%%%%%%%%%%%%%%%%%%%%%%%%
#ifndef ballgame_h_
#define ballgame_h_

struct BLC{
  int x;
  int y;
  int len;
  char blc_str[6];
  unsigned state: 1;//ブロックを0:表示しない 1:表示する
  struct BLC *next;//線形リストで管理する
};

struct BALL{
  int x;
  int y;
  int Vx;
  int Vy;
  char ball_str;
};

struct BAR{
  int x;
  int y;
  int len;
  char bar_str[];
};


int BLC_HIT(struct BALL *ball,struct BLC *blc);//ブロックにぶつかった時に１、それ以外で０を返す
int BAR_HIT(struct BALL *ball,struct BAR *bar);//ラケットにぶつかった時に１、それ以外で０を返す
int ob_init(struct BALL *ball,struct BLC *blc,struct BAR *bar);//初期化
void limit(struct BALL *ball,int COLS,int LINES);//画面端にぶつかった時
void reset(struct BALL *ball,struct BAR *bar);//ボールのリセット
#endif

%%%%%%%%%%%%%%%%%%%%%%%%%ballgame.c%%%%%%%%%%%%%%%%%%%%%%%%%%
#include<curses.h>
#include<string.h>
#include<stdlib.h>
#include"ballgame.h"
#define blclen 5
#define barlen 5

int BLC_HIT(struct BALL *ball,struct BLC *blc)
{
  if(((ball->x + ball->Vx) >= blc->x)&&((ball->x + ball->Vx) < (blc->x + blc->len))&&((ball->y + ball->Vy) == blc->y))//ぶつかる直前
    {
      if((ball->x >= blc->x)&&(ball->x < (blc->x + blc->len)))
	{
	  ball->Vy = -1 * (ball->Vy);
	  blc->state = 0;
	  return 1;
	}
      if((ball->x == (blc->x - 1))||(ball->x == (blc->x + blc->len)))
	{
	  ball->Vx = -1*(ball ->Vx);
	  blc->state = 0;
	  return 1;
	}
    }
  else
    return 0;
}

int BAR_HIT(struct BALL *ball,struct BAR *bar)
{
  if(((ball->x + ball->Vx) >= bar->x)&&((ball->x + ball->Vx) < (bar->x + bar->len))&&((ball->y + ball->Vy) == (bar->y)))//ぶつかる直前
    {
      if((ball->x >= bar->x)&&(ball->x < (bar->x + bar->len)))
	{
	  ball->Vy = -1 * (ball->Vy);
	  return 1;
	}
      if((ball->x == (bar->x - 1))||(ball->x == (bar->x + bar->len)))
	{
	  ball->Vx = -1*(ball ->Vx);
	  return 1;
	}
    }
  else
    return 0;
}

int ob_init(struct BALL *ball,struct BLC **list,struct BAR *bar)
{
  struct BLC *p;
  int i = 0,j = 0,sum = 0;
  
  bar->len = barlen;
  strcpy(bar->bar_str,"=====");
  ball->ball_str = '@';

  while((COLS - i*(blc->len + 2)) >= )
    {
    }
 
%%%%%%%%%%%%%%%%%%%%%%%%%%block.c%%%%%%%%%%%%%%%%%%%%%%%%%%5
#include<curses.h>
#include"ballgame.h"

void game();

int main()
{
  initscr();
  noecho();
  cbreak();
  keypad(srdscr,TRUE);
  game();

  endwin();
  return 0;
}

void game()
{
}
